{"ast":null,"code":"import _defineProperty from\"/Users/mdsalmanpatel/Desktop/Mini_project/projfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mdsalmanpatel/Desktop/Mini_project/projfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mdsalmanpatel/Desktop/Mini_project/projfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Base from\"../core/Base\";import{Link}from\"react-router-dom\";import{getCategories,createProduct}from\"../admin/helper/adminapicall\";import{isAuthenticated}from\"../auth/helper/index\";import{createPlayer}from'../core/helper/coreapicalls';var Register=function Register(){var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var _useState=useState({Transaction:\"\",number:\"\",photo:\"\",loading:false,error:\"\",createdProduct:\"\",getaRedirect:false,formData:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var Transaction=values.Transaction,number=values.number,loading=values.loading,error=values.error,createdProduct=values.createdProduct,getaRedirect=values.getaRedirect,formData=values.formData;var preload=function preload(){//console.log(data);\nsetValues(_objectSpread({},values,{formData:new FormData()}));};useEffect(function(){preload();},[]);var onSubmit=function onSubmit(event){event.preventDefault();setValues(_objectSpread({},values,{error:\"\",loading:true}));createPlayer(user._id,token,formData).then(function(data){if(data.error){setValues(_objectSpread({},values,{error:data.error}));}else{setValues(_objectSpread({},values,{name:\"\",description:\"\",price:\"\",photo:\"\",stock:\"\",loading:false,createdProduct:data.Transaction}));}});};var handleChange=function handleChange(name){return function(event){var value=name===\"photo\"?event.target.files[0]:event.target.value;formData.set(name,value);setValues(_objectSpread({},values,_defineProperty({},name,value)));};};var successMessage=function successMessage(){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-success mt-3\",style:{display:createdProduct?\"\":\"none\"}},/*#__PURE__*/React.createElement(\"h4\",null,\"SLot With \",createdProduct,\" ID is created successfully\"));};var createProductForm=function createProductForm(){return/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Fill The Details\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange(\"Transaction\"),name:\"Transaction\",className:\"form-control\",placeholder:\"Transaction ID\",value:Transaction})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange(\"number\"),name:\"number\",className:\"form-control\",placeholder:\"What'sApp Number\",value:number})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"btn btn-block btn-dark\"},/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange(\"photo\"),type:\"file\",name:\"photo\",accept:\"image\",placeholder:\"choose a file\"}))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",onClick:onSubmit,className:\"btn btn-outline-warning mb-3\"},\"Create Product\"));};return/*#__PURE__*/React.createElement(Base,{title:\"Add a product here!\",description:\"Welcome to product creation section\",className:\"container bg-info p-4\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/dashboard\",className:\"btn btn-md btn-dark mb-3\"},\"Register Here\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row bg-dark text-white rounded\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 offset-md-2\"},successMessage(),createProductForm())));};export default Register;","map":{"version":3,"sources":["/Users/mdsalmanpatel/Desktop/Mini_project/projfrontend/src/core/Register.js"],"names":["React","useState","useEffect","Base","Link","getCategories","createProduct","isAuthenticated","createPlayer","Register","user","token","Transaction","number","photo","loading","error","createdProduct","getaRedirect","formData","values","setValues","preload","FormData","onSubmit","event","preventDefault","_id","then","data","name","description","price","stock","handleChange","value","target","files","set","successMessage","display","createProductForm"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { getCategories, createProduct } from \"../admin/helper/adminapicall\";\nimport { isAuthenticated } from \"../auth/helper/index\";\nimport { createPlayer } from '../core/helper/coreapicalls';\n\n\nconst Register = () => {\n  const { user, token } = isAuthenticated();\n\n  const [values, setValues] = useState({\n    Transaction: \"\",\n    number: \"\",\n    photo: \"\",\n    loading: false,\n    error: \"\",\n    createdProduct: \"\",\n    getaRedirect: false,\n    formData: \"\"\n  });\n\n  const {\n    Transaction,\n    number,\n    loading,\n    error,\n    createdProduct,\n    getaRedirect,\n    formData\n  } = values;\n\n  const preload = () => {\n      //console.log(data);\n        setValues({ ...values, formData: new FormData() });\n  };\n\n  useEffect(() => {\n    preload();\n  }, []);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: \"\", loading: true });\n    createPlayer(user._id, token, formData).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          ...values,\n          name: \"\",\n          description: \"\",\n          price: \"\",\n          photo: \"\",\n          stock: \"\",\n          loading: false,\n          createdProduct: data.Transaction\n        });\n      }\n    });\n  };\n\n  const handleChange = name => event => {\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values, [name]: value });\n  };\n\n  const successMessage = () => (\n    <div\n      className=\"alert alert-success mt-3\"\n      style={{ display: createdProduct ? \"\" : \"none\" }}\n    >\n      <h4>SLot With {createdProduct} ID is created successfully</h4>\n    </div>\n  );\n\n\n  const createProductForm = () => (\n    <form>\n      <span>Fill The Details</span>\n      <div className=\"form-group\">\n        <input\n          onChange={handleChange(\"Transaction\")}\n          name=\"Transaction\"\n          className=\"form-control\"\n          placeholder=\"Transaction ID\"\n          value={Transaction}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <input\n          onChange={handleChange(\"number\")}\n          name=\"number\"\n          className=\"form-control\"\n          placeholder=\"What'sApp Number\"\n          value={number}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"btn btn-block btn-dark\">\n          <input\n            onChange={handleChange(\"photo\")}\n            type=\"file\"\n            name=\"photo\"\n            accept=\"image\"\n            placeholder=\"choose a file\"\n          />\n        </label>\n      </div>\n\n      <button\n        type=\"submit\"\n        onClick={onSubmit}\n        className=\"btn btn-outline-warning mb-3\"\n      >\n        Create Product\n      </button>\n    </form>\n  );\n\n  return (\n    <Base\n      title=\"Add a product here!\"\n      description=\"Welcome to product creation section\"\n      className=\"container bg-info p-4\"\n    >\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\n        Register Here\n      </Link>\n      <div className=\"row bg-dark text-white rounded\">\n        <div className=\"col-md-8 offset-md-2\">\n          {successMessage()}\n          {createProductForm()}\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}