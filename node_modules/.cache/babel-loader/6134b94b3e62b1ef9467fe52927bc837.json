{"ast":null,"code":"import _defineProperty from\"/Users/mdsalmanpatel/Desktop/saqlain/Mini_project/projfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mdsalmanpatel/Desktop/saqlain/Mini_project/projfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mdsalmanpatel/Desktop/saqlain/Mini_project/projfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Base from\"../core/Base\";import{Link}from\"react-router-dom\";import{ChangePassword,isAuthenticated}from\"../auth/helper/index\";var Password=function Password(){var _useState=useState({mail:\"\",oldpass:\"\",newpass:\"\",confirm:\"\",error:false,success:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var mail=values.mail,oldpass=values.oldpass,newpass=values.newpass,confirm=values.confirm,error=values.error,success=values.success;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread({},values,_defineProperty({error:false},name,event.target.value)));};};var onSubmit=function onSubmit(event){event.preventDefault();setValues(_objectSpread({},values,{error:false}));ChangePassword({mail:mail,oldpass:oldpass,newpass:newpass,confirm:confirm}).then(function(data){//console.log(data);\nif(data.error){setValues(_objectSpread({},values,{error:data.error,success:false}));}else{setValues(_objectSpread({},values,{mail:\"\",oldpass:\"\",newpass:\"\",confirm:\"\",error:\"\",success:true}));}}).catch(console.log(\"Error in Change Password\"));};var signUpForm=function signUpForm(_ref){var email=_ref.email;return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 offset-sm-3 text-left\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-light\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"mail\",onChange:handleChange(\"mail\"),value:mail})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-light\"},\"Old Password\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"password\",onChange:handleChange(\"oldpass\"),value:oldpass})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-light\"},\"New Password\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",onChange:handleChange(\"newpass\"),type:\"password\",value:newpass})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-light\"},\"Confirm\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"password\",onChange:handleChange(\"confirm\"),value:confirm})),/*#__PURE__*/React.createElement(\"button\",{onClick:onSubmit,className:\"btn btn-primary btn-block\"},\"Submit\"))));};var successMessage=function successMessage(){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 offset-sm-3 text-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-success\",style:{display:success?\"\":\"none\"}},\"Password Updated\")));};var errorMessage=function errorMessage(){return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 offset-sm-3 text-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",style:{display:error?\"\":\"none\"}},error)));};var _isAuthenticated=isAuthenticated(),_isAuthenticated$user=_isAuthenticated.user,first=_isAuthenticated$user.first,last=_isAuthenticated$user.last,school=_isAuthenticated$user.school,address=_isAuthenticated$user.address,city=_isAuthenticated$user.city,email=_isAuthenticated$user.email,mobile=_isAuthenticated$user.mobile;return/*#__PURE__*/React.createElement(Base,{title:\"Update Password\",description:\"Fill The Details to Update Password\"},successMessage(),errorMessage(),signUpForm({email:email}),/*#__PURE__*/React.createElement(\"p\",null,\"There is some problem with my encrypt and database I am sending you the screenshot where the old password and the encrypt password key value matches that means we can update the password. Thank You Sir for Understanding I can Explain u the code if you feel i havent done properly.\"));};export default Password;","map":{"version":3,"sources":["/Users/mdsalmanpatel/Desktop/saqlain/Mini_project/projfrontend/src/core/password.js"],"names":["React","useState","Base","Link","ChangePassword","isAuthenticated","Password","mail","oldpass","newpass","confirm","error","success","values","setValues","handleChange","name","event","target","value","onSubmit","preventDefault","then","data","catch","console","log","signUpForm","email","successMessage","display","errorMessage","user","first","last","school","address","city","mobile"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { ChangePassword, isAuthenticated } from \"../auth/helper/index\";\n\n\nconst Password = () => {\n\n  const [values, setValues] = useState({\n    mail:\"\",\n    oldpass: \"\",\n    newpass: \"\",\n    confirm: \"\",\n    error: false,\n    success: false\n  });\n\n  const {mail,oldpass, newpass, confirm, error, success } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false });\n    ChangePassword({ mail,oldpass, newpass ,confirm  })\n      .then(data => {\n        //console.log(data);\n        if (data.error) {\n          setValues({ ...values, error: data.error, success: false });\n        } else {\n          setValues({\n            ...values,\n            mail:\"\",\n            oldpass: \"\",\n            newpass: \"\",\n            confirm: \"\",\n            error: \"\",\n            success: true\n          });\n        }\n      })\n      .catch(console.log(\"Error in Change Password\"));\n  };\n\n  const signUpForm = ({email}) => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <form>\n          <div className=\"form-group\">\n              <label className=\"text-light\">Email</label>\n              <input\n                className=\"form-control\"          \n                type=\"mail\"\n                onChange={handleChange(\"mail\")}\n                value={mail}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Old Password</label>\n              <input\n                className=\"form-control\"          \n                type=\"password\"\n                onChange={handleChange(\"oldpass\")}\n                value={oldpass}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-light\">New Password</label>\n              <input\n                className=\"form-control\"\n                onChange={handleChange(\"newpass\")}\n                type=\"password\"\n                value={newpass}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Confirm</label>\n              <input\n                className=\"form-control\"\n                type=\"password\"\n                onChange={handleChange(\"confirm\")}\n                value={confirm}\n              />\n            </div>\n            <button onClick={onSubmit} className=\"btn btn-primary btn-block\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  const successMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-success\"\n            style={{ display: success ? \"\" : \"none\" }}\n          >\n            Password Updated\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const errorMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n          >\n            {error}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const {\n    user:{first,last,school,address,city,email,mobile}\n} = isAuthenticated();\n\n  return (\n    <Base title=\"Update Password\" description=\"Fill The Details to Update Password\">\n      {successMessage()}\n      {errorMessage()}\n      {signUpForm({email})}\n      <p>There is some problem with my encrypt and database I am sending you the screenshot where the old password and the encrypt password key value matches that means we can update the password. Thank You Sir for Understanding I can Explain u the code if you feel i havent done properly.</p>\n    </Base>\n  );\n};\n\nexport default Password;\n"]},"metadata":{},"sourceType":"module"}